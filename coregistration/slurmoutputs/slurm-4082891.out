Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot/scripts/coregistration/slurmoutputs.

JobID: 4082891
======
Time: Wed Oct 16 15:55:42 BST 2019
Running on master node: wbic-cs-5
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot/scripts/coregistration/slurmoutputs

Nodes allocated:
================
wbic-cs-5

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot/scripts/coregistration/ants_test.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot 27734/20190902_U-ID46027

27734
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot/preprocessed_data/segmentation/27734/coregistration
All_Command_lines_OK
Using double precision for computations.
=============================================================================
The composite transform comprises the following transforms (in order): 
  1. Center of mass alignment using fixed image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot/preprocessed_data/images/27734/meantopup_Run_1.nii and moving image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot/raw_data/images/27734/20190902_U-ID46027/mp2rage/reorientn4mag0000_PSIR_skulled_std.nii (type = Euler3DTransform)
=============================================================================
  number of levels = 4
  number of levels = 1
  fixed image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot/preprocessed_data/images/27734/meantopup_Run_1.nii
  moving image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot/raw_data/images/27734/20190902_U-ID46027/mp2rage/reorientn4mag0000_PSIR_skulled_std.nii
  fixed image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot/preprocessed_data/images/27734/meantopup_Run_1.nii
  moving image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/gridcellpilot/raw_data/images/27734/20190902_U-ID46027/mp2rage/reorientn4mag0000_PSIR_skulled_std.nii
Dimension = 3
Number of stages = 2
Use Histogram Matching false
Winsorize image intensities true
Lower quantile = 0.005
Upper quantile = 0.995
Stage 1 State
   Image metric = Mattes
     Fixed image = Image (0x4726ad0)
  RTTI typeinfo:   itk::Image<double, 3u>
  Reference Count: 2
  Modified Time: 1689
  Debug: Off
  Object Name: 
  Observers: 
    none
  Source: (none)
  Source output name: (none)
  Release Data: Off
  Data Released: False
  Global Release Data: Off
  PipelineMTime: 0
  UpdateMTime: 1511
  RealTimeStamp: 0 seconds 
  LargestPossibleRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [128, 128, 42]
  BufferedRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [128, 128, 42]
  RequestedRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [128, 128, 42]
  Spacing: [1.5, 1.5, 1]
  Origin: [-95.2449, 75.9328, 61.213]
  Direction: 
1 0 0
0 -0.87462 -0.48481
0 -0.48481 0.87462

  IndexToPointMatrix: 
1.5 0 0
0 -1.31193 -0.48481
0 -0.727214 0.87462

  PointToIndexMatrix: 
0.666667 0 0
0 -0.58308 -0.323206
0 -0.48481 0.87462

  Inverse Direction: 
1 0 0
0 -0.87462 -0.48481
0 -0.48481 0.87462

  PixelContainer: 
    ImportImageContainer (0x4724270)
      RTTI typeinfo:   itk::ImportImageContainer<unsigned long, double>
      Reference Count: 1
      Modified Time: 1508
      Debug: Off
      Object Name: 
      Observers: 
        none
      Pointer: 0x4737b20
      Container manages memory: true
      Size: 688128
      Capacity: 688128

     Moving image = Image (0x472af60)
  RTTI typeinfo:   itk::Image<double, 3u>
  Reference Count: 2
  Modified Time: 1690
  Debug: Off
  Object Name: 
  Observers: 
    none
  Source: (none)
  Source output name: (none)
  Release Data: Off
  Data Released: False
  Global Release Data: Off
  PipelineMTime: 0
  UpdateMTime: 1687
  RealTimeStamp: 0 seconds 
  LargestPossibleRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [224, 320, 320]
  BufferedRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [224, 320, 320]
  RequestedRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [224, 320, 320]
  Spacing: [0.699997, 0.7, 0.7]
  Origin: [-75.5706, 75.9683, -76.5881]
  Direction: 
1 0 0
0 -1 0
0 0 1

  IndexToPointMatrix: 
0.699997 0 0
0 -0.7 0
0 0 0.7

  PointToIndexMatrix: 
1.42858 0 0
0 -1.42857 0
0 0 1.42857

  Inverse Direction: 
1 0 0
0 -1 0
0 0 1

  PixelContainer: 
    ImportImageContainer (0x4715df0)
      RTTI typeinfo:   itk::ImportImageContainer<unsigned long, double>
      Reference Count: 1
      Modified Time: 1684
      Debug: Off
      Object Name: 
      Observers: 
        none
      Pointer: 0x2ac54f54c010
      Container manages memory: true
      Size: 22937600
      Capacity: 22937600

     Weighting = 1
     Sampling strategy = regular
     Number of bins = 32
     Radius = 4
     Sampling percentage  = 0.2
   Transform = Rigid
     Gradient step = 0.1
     Update field sigma (voxel space) = 0
     Total field sigma (voxel space) = 0
     Update field time sigma = 0
     Total field time sigma  = 0
     Number of time indices = 0
     Number of time point samples = 0
Stage 2 State
   Image metric = CC
     Fixed image = Image (0x472be60)
  RTTI typeinfo:   itk::Image<double, 3u>
  Reference Count: 2
  Modified Time: 2043
  Debug: Off
  Object Name: 
  Observers: 
    none
  Source: (none)
  Source output name: (none)
  Release Data: Off
  Data Released: False
  Global Release Data: Off
  PipelineMTime: 0
  UpdateMTime: 1865
  RealTimeStamp: 0 seconds 
  LargestPossibleRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [128, 128, 42]
  BufferedRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [128, 128, 42]
  RequestedRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [128, 128, 42]
  Spacing: [1.5, 1.5, 1]
  Origin: [-95.2449, 75.9328, 61.213]
  Direction: 
1 0 0
0 -0.87462 -0.48481
0 -0.48481 0.87462

  IndexToPointMatrix: 
1.5 0 0
0 -1.31193 -0.48481
0 -0.727214 0.87462

  PointToIndexMatrix: 
0.666667 0 0
0 -0.58308 -0.323206
0 -0.48481 0.87462

  Inverse Direction: 
1 0 0
0 -0.87462 -0.48481
0 -0.48481 0.87462

  PixelContainer: 
    ImportImageContainer (0x4723e90)
      RTTI typeinfo:   itk::ImportImageContainer<unsigned long, double>
      Reference Count: 1
      Modified Time: 1862
      Debug: Off
      Object Name: 
      Observers: 
        none
      Pointer: 0x4c7dea0
      Container manages memory: true
      Size: 688128
      Capacity: 688128

     Moving image = Image (0x4c77b30)
  RTTI typeinfo:   itk::Image<double, 3u>
  Reference Count: 2
  Modified Time: 2044
  Debug: Off
  Object Name: 
  Observers: 
    none
  Source: (none)
  Source output name: (none)
  Release Data: Off
  Data Released: False
  Global Release Data: Off
  PipelineMTime: 0
  UpdateMTime: 2041
  RealTimeStamp: 0 seconds 
  LargestPossibleRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [224, 320, 320]
  BufferedRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [224, 320, 320]
  RequestedRegion: 
    Dimension: 3
    Index: [0, 0, 0]
    Size: [224, 320, 320]
  Spacing: [0.699997, 0.7, 0.7]
  Origin: [-75.5706, 75.9683, -76.5881]
  Direction: 
1 0 0
0 -1 0
0 0 1

  IndexToPointMatrix: 
0.699997 0 0
0 -0.7 0
0 0 0.7

  PointToIndexMatrix: 
1.42858 0 0
0 -1.42857 0
0 0 1.42857

  Inverse Direction: 
1 0 0
0 -1 0
0 0 1

  PixelContainer: 
    ImportImageContainer (0x4c77dc0)
      RTTI typeinfo:   itk::ImportImageContainer<unsigned long, double>
      Reference Count: 1
      Modified Time: 2038
      Debug: Off
      Object Name: 
      Observers: 
        none
      Pointer: 0x2ac55a44d010
      Container manages memory: true
      Size: 22937600
      Capacity: 22937600

     Weighting = 1
     Sampling strategy = none
     Number of bins = 32
     Radius = 4
     Sampling percentage  = 1
   Transform = SyN
     Gradient step = 0.1
     Update field sigma (voxel space) = 3
     Total field sigma (voxel space) = 0
     Update field time sigma = 0
     Total field time sigma  = 0
     Number of time indices = 0
     Number of time point samples = 0
Registration using 2 total stages.

Stage 0
  iterations = 1000x500x100x0
  convergence threshold = 1e-06
  convergence window size = 10
  number of levels = 4
  using the Mattes MI metric (number of bins = 32, weight = 1)
  preprocessing:  winsorizing the image intensities
  Shrink factors (level 1 out of 4): [5, 5, 8]
  Shrink factors (level 2 out of 4): [3, 3, 4]
  Shrink factors (level 3 out of 4): [1, 1, 2]
  Shrink factors (level 4 out of 4): [1, 1, 1]
  smoothing sigmas per level: [3, 2, 1, 0]
  regular sampling (percentage = 0.2)

*** Running Euler3DTransform registration ***

DIAGNOSTIC,Iteration,metricValue,convergenceValue,ITERATION_TIME_INDEX,SINCE_LAST
 2DIAGNOSTIC,     1, -3.655712411931e-01, 1.797693134862e+308, 6.0728e+00, 6.0728e+00, 
 2DIAGNOSTIC,     2, -3.679278263015e-01, 1.797693134862e+308, 6.0780e+00, 5.1949e-03, 
 2DIAGNOSTIC,     3, -3.712757653719e-01, 1.797693134862e+308, 6.0831e+00, 5.1191e-03, 
 2DIAGNOSTIC,     4, -3.778448432377e-01, 1.797693134862e+308, 6.0882e+00, 5.1160e-03, 
 2DIAGNOSTIC,     5, -3.805750940026e-01, 1.797693134862e+308, 6.0949e+00, 6.6721e-03, 
 2DIAGNOSTIC,     6, -3.826525923707e-01, 1.797693134862e+308, 6.1014e+00, 6.5041e-03, 
 2DIAGNOSTIC,     7, -3.839512122024e-01, 1.797693134862e+308, 6.1079e+00, 6.4909e-03, 
 2DIAGNOSTIC,     8, -3.880714131264e-01, 1.797693134862e+308, 6.1130e+00, 5.0509e-03, 
 2DIAGNOSTIC,     9, -3.909243775083e-01, 1.797693134862e+308, 6.1216e+00, 8.6701e-03, 
 2DIAGNOSTIC,    10, -3.916740025215e-01, 4.578379051049e-03, 6.1287e+00, 7.0992e-03, 
 2DIAGNOSTIC,    11, -3.932994505933e-01, 3.804030397650e-03, 6.1359e+00, 7.1850e-03, 
 2DIAGNOSTIC,    12, -3.937583672709e-01, 2.996165726368e-03, 6.1440e+00, 8.0478e-03, 
 2DIAGNOSTIC,    13, -3.943118219892e-01, 2.257977197503e-03, 6.1547e+00, 1.0757e-02, 
 2DIAGNOSTIC,    14, -3.944912735566e-01, 1.775985891209e-03, 6.1617e+00, 7.0231e-03, 
 2DIAGNOSTIC,    15, -3.952033469516e-01, 1.367761959437e-03, 6.1712e+00, 9.4528e-03, 
 2DIAGNOSTIC,    16, -3.954422991380e-01, 9.943889230631e-04, 6.1784e+00, 7.1700e-03, 
 2DIAGNOSTIC,    17, -3.955500294315e-01, 6.321061781378e-04, 6.1851e+00, 6.7880e-03, 
 2DIAGNOSTIC,    18, -3.956606716207e-01, 4.237783301924e-04, 6.1931e+00, 8.0011e-03, 
 2DIAGNOSTIC,    19, -3.958192808840e-01, 3.151905328316e-04, 6.2059e+00, 1.2711e-02, 
 2DIAGNOSTIC,    20, -3.958257488801e-01, 2.145992164980e-04, 6.2125e+00, 6.6550e-03, 
 2DIAGNOSTIC,    21, -3.958389525600e-01, 1.608888558467e-04, 6.2217e+00, 9.2020e-03, 
 2DIAGNOSTIC,    22, -3.958411811403e-01, 1.125390597647e-04, 6.2298e+00, 8.0850e-03, 
 2DIAGNOSTIC,    23, -3.958412807794e-01, 7.584115462863e-05, 6.2401e+00, 1.0270e-02, 
 2DIAGNOSTIC,    24, -3.958413078303e-01, 4.018147985509e-05, 6.2501e+00, 1.0075e-02, 
 2DIAGNOSTIC,    25, -3.958413094359e-01, 2.445074052220e-05, 6.2606e+00, 1.0503e-02, 
 2DIAGNOSTIC,    26, -3.958413095464e-01, 1.449725146042e-05, 6.2715e+00, 1.0823e-02, 
 2DIAGNOSTIC,    27, -3.958413095573e-01, 6.921836884624e-06, 6.2822e+00, 1.0716e-02, 
 2DIAGNOSTIC,    28, -3.958413095580e-01, 2.125604808764e-06, 6.2932e+00, 1.1043e-02, 
 2DIAGNOSTIC,    29, -3.958413095581e-01, 1.558366005523e-06, 6.3039e+00, 1.0710e-02, 
 2DIAGNOSTIC,    30, -3.958413095581e-01, 1.135902856268e-06, 6.3132e+00, 9.2270e-03, 
 2DIAGNOSTIC,    31, -3.958413095581e-01, 1.043919302633e-06, 6.3239e+00, 1.0718e-02, 
 2DIAGNOSTIC,    32, -3.958413095581e-01, 1.008031396223e-06, 6.3319e+00, 8.0318e-03, 
DIAGNOSTIC,Iteration,metricValue,convergenceValue,ITERATION_TIME_INDEX,SINCE_LAST
 2DIAGNOSTIC,     1, -1.467459321678e-01, 1.797693134862e+308, 9.9827e+00, 3.6508e+00, 
 2DIAGNOSTIC,     2, -1.497152958082e-01, 1.797693134862e+308, 9.9960e+00, 1.3294e-02, 
 2DIAGNOSTIC,     3, -1.512897426271e-01, 1.797693134862e+308, 1.0009e+01, 1.3231e-02, 
 2DIAGNOSTIC,     4, -1.552110036999e-01, 1.797693134862e+308, 1.0025e+01, 1.5972e-02, 
 2DIAGNOSTIC,     5, -1.591635150508e-01, 1.797693134862e+308, 1.0054e+01, 2.9107e-02, 
 2DIAGNOSTIC,     6, -1.591973775586e-01, 1.797693134862e+308, 1.0068e+01, 1.3402e-02, 
 2DIAGNOSTIC,     7, -1.590173699540e-01, 1.797693134862e+308, 1.0081e+01, 1.3217e-02, 
 2DIAGNOSTIC,     8, -1.595115599007e-01, 1.797693134862e+308, 1.0097e+01, 1.5926e-02, 
 2DIAGNOSTIC,     9, -1.595412019735e-01, 1.797693134862e+308, 1.0113e+01, 1.5997e-02, 
 2DIAGNOSTIC,    10, -1.598990999505e-01, 5.342314146571e-03, 1.0128e+01, 1.5176e-02, 
 2DIAGNOSTIC,    11, -1.602768947989e-01, 3.516089420942e-03, 1.0144e+01, 1.5441e-02, 
 2DIAGNOSTIC,    12, -1.613452269864e-01, 2.305388958195e-03, 1.0159e+01, 1.5194e-02, 
 2DIAGNOSTIC,    13, -1.615562864392e-01, 1.314058295607e-03, 1.0182e+01, 2.3594e-02, 
 2DIAGNOSTIC,    14, -1.616683461525e-01, 8.554797305958e-04, 1.0201e+01, 1.8868e-02, 
 2DIAGNOSTIC,    15, -1.616864177292e-01, 8.605103363679e-04, 1.0220e+01, 1.8420e-02, 
 2DIAGNOSTIC,    16, -1.617365449306e-01, 7.962030045981e-04, 1.0239e+01, 1.9386e-02, 
 2DIAGNOSTIC,    17, -1.617297116779e-01, 6.439598592020e-04, 1.0255e+01, 1.5893e-02, 
 2DIAGNOSTIC,    18, -1.618010409533e-01, 5.063833152647e-04, 1.0273e+01, 1.8079e-02, 
 2DIAGNOSTIC,    19, -1.611423360662e-01, 2.783240336802e-04, 1.0288e+01, 1.5188e-02, 
 2DIAGNOSTIC,    20, -1.606533756387e-01, 3.817602557687e-05, 1.0306e+01, 1.7923e-02, 
DIAGNOSTIC,Iteration,metricValue,convergenceValue,ITERATION_TIME_INDEX,SINCE_LAST
 2DIAGNOSTIC,     1, -8.868315493343e-02, 1.797693134862e+308, 1.2993e+01, 2.6866e+00, 
 2DIAGNOSTIC,     2, -8.902795326096e-02, 1.797693134862e+308, 1.3195e+01, 2.0260e-01, 
 2DIAGNOSTIC,     3, -8.965040211377e-02, 1.797693134862e+308, 1.3399e+01, 2.0385e-01, 
 2DIAGNOSTIC,     4, -9.052028149035e-02, 1.797693134862e+308, 1.3603e+01, 2.0355e-01, 
 2DIAGNOSTIC,     5, -9.432071436439e-02, 1.797693134862e+308, 1.3811e+01, 2.0820e-01, 
 2DIAGNOSTIC,     6, -1.005036358231e-01, 1.797693134862e+308, 1.4021e+01, 2.1016e-01, 
 2DIAGNOSTIC,     7, -1.379967876857e-01, 1.797693134862e+308, 1.4223e+01, 2.0211e-01, 
 2DIAGNOSTIC,     8, -1.779416477959e-01, 1.797693134862e+308, 1.4463e+01, 2.3985e-01, 
 2DIAGNOSTIC,     9, -2.837953724369e-01, 1.797693134862e+308, 1.4808e+01, 3.4453e-01, 
 2DIAGNOSTIC,    10, -2.916821196577e-01, 9.020181064194e-02, 1.5013e+01, 2.0523e-01, 
 2DIAGNOSTIC,    11, -3.115217868420e-01, 9.388475452769e-02, 1.5364e+01, 3.5090e-01, 
 2DIAGNOSTIC,    12, -3.174744080097e-01, 8.933613655447e-02, 1.5569e+01, 2.0498e-01, 
 2DIAGNOSTIC,    13, -3.196980455401e-01, 7.857699615728e-02, 1.5808e+01, 2.3897e-01, 
 2DIAGNOSTIC,    14, -3.201315064478e-01, 6.358992371731e-02, 1.6047e+01, 2.3940e-01, 
 2DIAGNOSTIC,    15, -3.205902279755e-01, 4.663580319404e-02, 1.6362e+01, 3.1458e-01, 
 2DIAGNOSTIC,    16, -3.208073390457e-01, 2.940330882794e-02, 1.6604e+01, 2.4258e-01, 
 2DIAGNOSTIC,    17, -3.211273238844e-01, 1.548375732562e-02, 1.6911e+01, 3.0649e-01, 
 2DIAGNOSTIC,    18, -3.211292785390e-01, 5.058788280554e-03, 1.7152e+01, 2.4107e-01, 
 2DIAGNOSTIC,    19, -3.211101006566e-01, 2.699787555287e-03, 1.7390e+01, 2.3856e-01, 
 2DIAGNOSTIC,    20, -3.210961382243e-01, 8.756325034665e-04, 1.7628e+01, 2.3763e-01, 
 2DIAGNOSTIC,    21, -3.210879686447e-01, 3.359291215191e-04, 1.7834e+01, 2.0557e-01, 
 2DIAGNOSTIC,    22, -3.210722989759e-01, 1.475999298142e-04, 1.8038e+01, 2.0496e-01, 
 2DIAGNOSTIC,    23, -3.210946484782e-01, 8.114949279043e-05, 1.8280e+01, 2.4130e-01, 
 2DIAGNOSTIC,    24, -3.211012266694e-01, 3.539560071799e-05, 1.8484e+01, 2.0405e-01, 
 2DIAGNOSTIC,    25, -3.210853200268e-01, 1.127925244200e-05, 1.8687e+01, 2.0286e-01, 
DIAGNOSTIC,Iteration,metricValue,convergenceValue,ITERATION_TIME_INDEX,SINCE_LAST
 2DIAGNOSTIC,     1, -2.738519132901e-01, 1.797693134862e+308, 2.0636e+01, 1.9494e+00, 
  Elapsed time (stage 0): 2.1811e+01


Stage 1
  iterations = 10
  convergence threshold = 1.0000e-06
  convergence window size = 10
  number of levels = 1
  using the CC metric (radius = 4, weight = 1.0000e+00)
  preprocessing:  winsorizing the image intensities
  Shrink factors (level 1 out of 1): [1, 1, 1]
  smoothing sigmas per level: [0]
  Using default NONE metricSamplingStrategy 

*** Running SyN registration (varianceForUpdateField = 3.0000e+00, varianceForTotalField = 0.0000e+00) ***

XXDIAGNOSTIC,Iteration,metricValue,convergenceValue,ITERATION_TIME_INDEX,SINCE_LAST
 1DIAGNOSTIC,     1, -3.032645993391e-01, 1.797693134862e+308, 2.8537e+01, 2.8537e+01, 
 1DIAGNOSTIC,     2, -3.054398428636e-01, 1.797693134862e+308, 5.5696e+01, 2.7159e+01, 
 1DIAGNOSTIC,     3, -3.075109235144e-01, 1.797693134862e+308, 8.2963e+01, 2.7267e+01, 
 1DIAGNOSTIC,     4, -3.096539112087e-01, 1.797693134862e+308, 1.0998e+02, 2.7020e+01, 
 1DIAGNOSTIC,     5, -3.115060285109e-01, 1.797693134862e+308, 1.3703e+02, 2.7042e+01, 
 1DIAGNOSTIC,     6, -3.133837131004e-01, 1.797693134862e+308, 1.6426e+02, 2.7230e+01, 
 1DIAGNOSTIC,     7, -3.151819031997e-01, 1.797693134862e+308, 1.9159e+02, 2.7330e+01, 
 1DIAGNOSTIC,     8, -3.167748990161e-01, 1.797693134862e+308, 2.1871e+02, 2.7124e+01, 
 1DIAGNOSTIC,     9, -3.182447276014e-01, 1.797693134862e+308, 2.4561e+02, 2.6905e+01, 
 1DIAGNOSTIC,    10, -3.195767497454e-01, 3.363376310423e-03, 2.7291e+02, 2.7293e+01, 
  Elapsed time (stage 1): 274.1


Total elapsed time: 296
